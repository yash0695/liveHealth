<!DOCTYPE html>
<html>
<body>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.4/raphael-min.js"></script>
<script type="text/javascript" src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
<script type="text/javascript" src="http://cdn.oesmith.co.uk/morris-0.4.1.min.js"></script>
<div id="blah_1"></div>
<div id="demo"><h2>click on the button below to view the graph</h2></div>

    <button type="button" id="btn1" onclick="loadDoc()">show graph</button>






<script>
function loadDoc() {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function () {
        if (xhttp.readyState == 4 && xhttp.status == 200) {
            document.getElementById("demo").innerHTML ="<marquee><i><h1>the graph has been plotted successfully</h1></marquee>";
            var obj = xhttp.response;
            document.getElementById("btn1").disabled=true;
            //alert(obj);
                new Morris.Bar({
                        element: 'blah_1',
                        data:JSON.parse(obj),
                        xkey: 'ageGroup',
                        ykeys: ['maleCount','femaleCount'],
                        parseTime:false,
                        labels: ['Male Count','Female Count']
                    });

        }
    };
    xhttp.open("GET", "http://192.168.2.127:3703/trial", true);
    xhttp.send();

}
</script>


</body>
</html>

